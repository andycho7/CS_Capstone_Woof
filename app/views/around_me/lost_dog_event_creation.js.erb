/*
    It is called when a new around_me event is created.
*/

var new_co_ordinates = {lat: parseFloat(latitude.value),
                        lng: parseFloat(longitude.value) };

var marker_description = description.value;

console.log("Event window is:  ");

//closeForm();
if(event_window != null)
{
    event_window.close();
}


var marker = new google.maps.Marker({
    position: new_co_ordinates,
    map: map
});

var infoWindow = new google.maps.InfoWindow({
    content: marker_description
});

google.maps.event.addListener(marker, 'click', (function(marker, marker_description,infoWindow){
    return function()
    {
        infoWindow.setContent(marker_description);
        infoWindow.open(map, marker);
    };
})(marker, marker_description, infoWindow));

