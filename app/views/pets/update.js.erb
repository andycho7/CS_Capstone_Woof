// re-render show and view portion of the cards
<% if @pet.errors.empty? %>
  card = $('#div_card_group_<%=@pet.group_id.to_s%>_pet_<%=@pet.id.to_s%>');
  card.replaceWith('<%= j render(:partial => 'pets/card', :locals => {group: @pet.group, pet: @pet, j: 0, weight_options: Weight.all}) %>');
<% else %> // errors
  // just update the form with the errors
  form = $('#pet_<%=@pet.id.to_s%>_card_form_group_<%=@pet.group_id.to_s%>');
  form.replaceWith('<%= j render(:partial => 'pets/form_card', :locals => {group: @pet.group, pet: @pet, weight_options: Weight.all, hide: false}) %>');
<% end %>

bindSelect2Elements(); // application.js
